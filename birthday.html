<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生日快乐</title>
    <style>
        #cake-container {
            perspective: 1000px;
        }
        .cake-layer {
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transform: rotateX(45deg);
            transition: box-shadow 0.3s ease-in-out;
        }
        .flame {
            animation: flicker 1s infinite;
        }
        @keyframes flicker {
            0%, 100% { transform: translateY(0); opacity: 1; }
            50% { transform: translateY(-5px); opacity: 0.5; }
        }
    </style>
    <script>
        function createCakeLayers(parent, layers) {
            for (let i = 0; i < layers; i++) {
                let layer = document.createElement('div');
                layer.className = 'cake-layer';
                layer.style.width = (300 - i * 20) + 'px';
                layer.style.height = (20 * (layers - i)) + 'px'; // Adjust height based on layer depth
                layer.style.backgroundColor = '#eebb99';
                layer.style.borderRadius = `${150 - i * 5}px`;
                layer.style.position = 'absolute';
                layer.style.bottom = 0; // Set bottom to 0 and use transform to adjust depth
                layer.style.left = (300 - (300 - i * 20)) / 2 + 'px';
                layer.style.transform = `translateY(${i * 10}px) rotateX(45deg)`; // Add rotation and depth
                parent.appendChild(layer);
            }
        }

        function addCandles(parent) {
            let candles = [
                { left: '45%', top: '20px' },
                { left: '55%', top: '20px' },
                { left: '35%', top: '20px' },
                { left: '65%', top: '20px' }
            ];

            candles.forEach(candle => {
                let candleEl = document.createElement('div');
                candleEl.style.position = 'absolute';
                candleEl.style.width = '20px';
                candleEl.style.height = '40px';
                candleEl.style.backgroundColor = '#fff';
                candleEl.style.borderRadius = '10px';
                candleEl.style.left = candle.left;
                candleEl.style.top = candle.top;
                candleEl.style.transform = 'translateX(-50%) rotateX(45deg)'; // Add rotation

                let flameEl = document.createElement('div');
                flameEl.className = 'flame';
                flameEl.style.position = 'absolute';
                flameEl.style.width = '20px';
                flameEl.style.height = '20px';
                flameEl.style.backgroundColor = '#ffc';
                flameEl.style.borderRadius = '50%';
                flameEl.style.top = '-10px';
                flameEl.style.left = '50%';
                flameEl.style.transform = 'translateX(-50%) translateY(-5px)'; // Adjust position

                candleEl.appendChild(flameEl);
                parent.appendChild(candleEl);
            });
        }

        window.onload = function() {
            let cakeContainer = document.getElementById('cake-container');
            createCakeLayers(cakeContainer, 3);
            addCandles(cakeContainer);

            const messageElement = document.getElementById('message');
            const birthdayMessage = "愿你的每一天都像今天一样特别！";
            let index = 0;

            function typeWriter() {
                if (index < birthdayMessage.length) {
                    messageElement.innerHTML += birthdayMessage.charAt(index);
                    index++;
                    setTimeout(typeWriter, 50);
                }
            }

            typeWriter();
        }
    </script>
</head>
<body>
    <h1>生日快乐！</h1>
    <div id="cake-container" style="position: relative; width: 300px; height: 200px; margin: 20px auto;"></div>
    <div class
